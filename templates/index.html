<!DOCTYPE html>
<html>
<head>
  <title>ë£°ë › ì´ë²¤íŠ¸</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/css/style.css">
  <style>
    .input-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    .input-row input {
      flex: 1;
      padding: 12px;
      font-size: 16px;
    }
    #sendCodeBtn,
    #verifyCodeBtn {
      padding: 8px 12px;
      font-size: 14px;
      white-space: nowrap;
      width: auto;
    }
    #surveyBtn {
      padding: 6px 12px;
      font-size: 14px;
      width: auto;
      max-width: 50%;
    }
    #closeBtn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <canvas id="myCanvas"></canvas>

    <div class="container" style="max-width: 400px; margin: 0 auto; text-align: center;">
      <h1>ğŸ ë£°ë › ì´ë²¤íŠ¸ ğŸ‰</h1>

      <div style="margin-bottom: 12px;">
        <p><strong>ì£¼ë¯¼ì´íšŒ ì‚¬ì „íˆ¬í‘œë¥¼ ì™„ë£Œí•˜ì…¨ë‚˜ìš”?</strong><br>
        <small> ì‚¬ì „íˆ¬í‘œì— ì°¸ì—¬í•´ ì£¼ì‹  ì£¼ë¯¼ë¶„ë“¤ê»˜ ì†Œì†Œí•œ ì„ ë¬¼ì„ ë“œë¦½ë‹ˆë‹¤.</small></p>
      </div>

      <div style="display: flex; flex-direction: column; align-items: center; width: 100%;">
        <form id="spin-form" style="width: 100%; padding: 0 12px; box-sizing: border-box;">
          <input type="text" id="nameInput" placeholder="ì´ë¦„(í™ê¸¸ë™)" required>
          <div class="input-row">
            <input type="text" id="phoneInput" placeholder="ì „í™”ë²ˆí˜¸(01012345678)" required>
            <button type="button" id="sendCodeBtn">ì¸ì¦ë²ˆí˜¸ ë°›ê¸°</button>
          </div>
          <div class="input-row">
            <input type="text" id="codeInput" placeholder="ì¸ì¦ë²ˆí˜¸ ì…ë ¥">
            <button type="button" id="verifyCodeBtn">ì¸ì¦ë²ˆí˜¸ í™•ì¸</button>
          </div>
          <button type="submit" id="spinBtn" class="disabled">ë£°ë › ëŒë¦¬ê¸°</button>
        </form>
      <!-- ë‹¹ì²¨ì ëª©ë¡ ë³´ê¸° ë²„íŠ¼ -->
      <a href="/winners" style="display: inline-block; margin-top: 20px; text-decoration: none;">
        <button>ğŸ¯ ë‹¹ì²¨ì ëª©ë¡ ë³´ê¸°</button>
      </a>

        <div style="margin-top: 30px; text-align: center; position: relative;">
          <canvas id="wheelCanvas" width="300" height="300" style="border: 2px solid #999; border-radius: 50%; background-color: #fff;"></canvas>
          <div style="position: absolute; top: -28px; left: 50%; transform: translateX(-50%) rotate(180deg); font-size: 24px;">â–²</div>
          <div id="result" style="margin-top: 10px;"></div>
        </div>
      </div>

      <!-- âœ… ëª¨ë‹¬ íŒì—… -->
      <div id="resultModal" style="display: none; position: fixed; top: 0; left: 0;
        width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);
        justify-content: center; align-items: center; z-index: 1000;">
        <div style="background: white; padding: 20px; border-radius: 12px; max-width: 90%; text-align: center;">
          <h2>ğŸ‰ ë‹¹ì²¨ì„ ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
          <p id="modalPrizeText"></p>
          <img id="modalPrizeImage" src="" alt="ë‹¹ì²¨ ì´ë¯¸ì§€" style="max-width: 100%; border-radius: 10px; margin: 10px 0;">
          <p style="font-size: 14px; margin-top: 10px;">ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ ëˆŒëŸ¬<br>êµí™˜ì²˜ì—ì„œ ìƒí’ˆì„ ìˆ˜ë ¹í•˜ì„¸ìš”</p>
          <a id="downloadLink" download style="display: inline-block; margin: 10px 0; padding: 10px 20px;
                    background: #3b82f6; color: white; border-radius: 8px; text-decoration: none;">
            ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
          </a><br>
          <button id="closeBtn" disabled style="margin-top: 10px;">ë‹«ê¸°</button>
        </div>
      </div>

    </div>
  </div>

  <script src="/static/js/roulette.js"></script>
</body>
</html>
